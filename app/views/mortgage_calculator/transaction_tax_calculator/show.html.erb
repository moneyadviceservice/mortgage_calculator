<% content_for(:head) do %>
  <script>
   window.calculator_config = <%= raw calculator_config_json %>;
  </script>
<% end %>

<div ng-controller="CalculatorCtrl" class="mortgagecalc__container stamp-duty">
  <% resource.errors.full_messages.each do |message| %>
    <span style="color:red;"><%= message %></span>
  <% end %>
  <div wizard on-finish="finishedWizard()" hide-indicators='true'>
    <div wz-step class="ng-hide">
      <div class="stamp-duty__container">
        <h1 class="stamp-duty__heading">
          <%= I18n.t("#{i18n_locale_namespace}.heading") %>
        </h1>
        <h2 class="intro stamp-duty__subheading">
          <%= I18n.t("#{i18n_locale_namespace}.title") %>
        </h2>
        <%= render 'calculator_form' %>
      </div>
      <%= render 'links_to_other_tools' %>
    </div>

    <div wz-step class="ng-hide">
      <div class="rendered-from-js">
        <div class="stamp-duty__container">
          <h1 class="stamp-duty__heading">
            <%= I18n.t("#{i18n_locale_namespace}.heading_results") %>
          </h1>
          <%= render 'results_recalculation_form' %>
        </div>
      </div>
    </div>
  </div>
</div>
