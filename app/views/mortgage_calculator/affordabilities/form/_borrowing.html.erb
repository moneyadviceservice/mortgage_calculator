<% if @affordability.valid? %>
  <%= f.label :borrowing, "id" => "label_borrowing_amount", "class" => "visually-hidden" %>

  <%= f.text_field :borrowing,
    "class" => "ns-mortgage-calc__form__input results ns-mortgage-calc__dynamic-slider-property ns-mortgage-calc__label-follower ns-mortgage-calc__label-follower--top",
    "id" => "borrowing-amount",
    "for" => "borrowing-amount-slider",
    "ng-model" => "repayments.propertyPrice",
    "aria-labelledby" => "label_borrowing_amount",
    "ng-docked" => "docked",
    "currency" => "",
    "ng-autosize" => "",
    "data-m-dec" => "0",
    "data-a-sign" => "£",
    "value" => @affordability.borrowing_formatted
  %>

  <div class="ns-mortgage-calc__slider ns-mortgage-calc__slider--with-follower-top ns-mortgage-calc__slider--squeeze" ui-slider min="affordability.minimumBorrowing()" max="affordability.maximumBorrowing()" step="1000" ng-model="repayments.propertyPrice" label-follower="#borrowing-amount" aria-labelledby="borrowing-amount" analytics-category="Affordability Calculator" analytics-action="Refinement" analytics-label="Borrowing" id="slider-borrowing" ng-docked="docked"></div>

  <p class="rendered-from-js ns-mortgage-calc__borrowing-range">
    <span class="ns-mortgage-calc__borrowing-range__min">
      {{ affordability.minimumBorrowing() | customCurrency:"£":"whole"}}
    </span>

    <span class="ns-mortgage-calc__borrowing-range__max">
      {{ affordability.maximumBorrowing() | customCurrency:"£":"whole"}}
    </span>
  </p>

  <div class="ns-mortgage-calc__form__row hide-with-js">
    <%= f.submit I18n.t("affordability.recalculate"), class: "button recalculate-button" %>
  </div>
<% end %>
