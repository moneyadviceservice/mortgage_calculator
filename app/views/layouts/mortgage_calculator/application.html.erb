<% content_for(:head) do %>
  <%# Basic styles for all devices, doesnt contain anything that could cause rendering issues such as positional info %>
    <%= stylesheet_link_tag 'mortgage_calculator_basic' %>

    <%# Fixed width styles and html5shiv for IE7+8 , styles will not include any media queries, but will include .ie specific fixes %>
    <!--[if ( gte IE 7 ) & ( lte IE 8 ) & (!IEMobile) ]>
    <%= stylesheet_link_tag 'mortgage_calculator_enhanced_fixed', media: 'all' %>
    <script>var responsiveStyle = false;</script>
    <![endif]-->

    <%# Responsive styles for all modern devices, excluded from older IE version %>
    <!--[if ( !IE ) | ( gte IE 9 ) ]><!-->
    <%= stylesheet_link_tag 'mortgage_calculator_enhanced_responsive', media: 'only all' %>
    <script>var responsiveStyle = true;</script>
    <!--<![endif]-->

  <%= javascript_include_tag "mortgage_calculator/application" %>

  <%= csrf_meta_tags %>
<% end %>

<% content_for(:analytics) do %>
  <script type='text/javascript'>
    var _gaq = _gaq || [];
  </script>

  <% if Rails.env.production? || Rails.env.qa? %>
    <script type='text/javascript'>
      _gaq.push(['_setAccount','<%= GA.tracker %>']);
      _gaq.push(['_setDomainName','moneyadviceservice.org.uk']);
      _gaq.push(['_setAllowLinker',true]);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <% end %>
<% end %>

<% content_for(:tool_content) do %>
  <div class="ns-mortgage-calc">
    <div ng-app="mortgageCalculatorApp" class="mortgagecalc">
      <%= yield %>
    </div>
  </div>
<% end %>

<%= render template: parent_template %>
