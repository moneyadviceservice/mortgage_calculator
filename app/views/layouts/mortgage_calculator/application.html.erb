<% set_meta_tags title: t("#{calculator_name}.meta.title"),
                 description: t("#{calculator_name}.meta.description"),
                 canonical: t("#{calculator_name}.meta.canonical_url") %>

<% content_for(:head) do %>

    <% if disable_responsiveness? %>
      <%= stylesheet_link_tag 'mortgage_calculator_enhanced_fixed', media: 'all' %>
    <% else %>
      <!--[if ( gte IE 7 ) & ( lte IE 8 ) & (!IEMobile) ]>
      <%= stylesheet_link_tag 'mortgage_calculator_enhanced_fixed', media: 'all' %>
      <![endif]-->

      <%# Responsive styles for all modern devices %>
      <!--[if ( !IE ) | ( gte IE 9 ) ]><!-->
      <%= stylesheet_link_tag 'mortgage_calculator_enhanced_responsive', media: 'only all' %>
      <!--<![endif]-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <% end %>

    <%= stylesheet_link_tag 'mortgage_calculator_print', media: 'print' %>

  <%= javascript_include_tag "mortgage_calculator/application" %>
<% end %>

<% content_for(:javascripts) do %>
  <% if Rails.env.production? || Rails.env.qa? %>
    <script
      src="//d2wy8f7a9ursnm.cloudfront.net/bugsnag-2.min.js"
      data-apikey="<%= MortgageCalculator.bug_snag_key %>">
    </script>
  <% end %>
<% end %>

<% content_for(:analytics) do %>
  <script type='text/javascript'>
    var dataLayer = dataLayer || [];
  </script>
<% end %>

<% content_for(:engine_content) do %>
  <div ng-app="mortgageCalculatorApp" class="mortgagecalc">
    <%= yield %>
  </div>
<% end %>

<%= render template: parent_template %>
